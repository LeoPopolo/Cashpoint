<main>
  <h1>Productos</h1>

  <div class="buttons-container">
    <button (click)="openDialogCreateEditProduct('create')" class="btn-primary"> <mat-icon>add</mat-icon> <span>Nuevo producto</span> </button>
    <div class="filters" [ngClass]="{'show-filters': filterOpened}">
      <div>
        <input type="text" placeholder="Nombre" [(ngModel)]="filterData.name">
      </div>
      <div>
        <input type="text" placeholder="Marca" [(ngModel)]="filterData.brand">
      </div>
      <div>
        <input type="text" placeholder="Código de barras" [(ngModel)]="filterData.barcode">
      </div>
      <div class="search" (click)="executeFilters()">
        <mat-icon>search</mat-icon>
      </div>
    </div>
    <span (click)="toggleFilter()">
      <mat-icon>filter_list</mat-icon>
      <span>Filtrar</span>
    </span>
  </div>

  <div class="table">
    <div class="table-head">
      <span>ID</span>
      <span>Nombre</span>
      <span>Descripción</span>
      <span>Precio</span>
      <span>Stock</span>
      <span>Marca</span>
      <span>Código de barras</span>
      <span>Acciones</span>
    </div>
    <div class="table-body">
      <div class="table-body-element" *ngFor="let item of productList">
        <span>#{{item.id}}</span>
        <span>{{item.name}}</span>
        <span>{{item.description}}</span>
        <span>${{item.price}}</span>
        <span>{{item.stock}}</span>
        <span>{{item.brand.name}}</span>
        <span>{{item.barcode}}</span>
        <span class="actions-element">
          <mat-icon (click)="openDialogCreateEditProduct('edit', item.id)">edit</mat-icon>
          <mat-icon (click)="openDialogDelete(item.id, item.name)">delete</mat-icon>
        </span>
      </div>
    </div>
    <div class="table-pagination">
      <div>
        <span (click)="previousPage()">
          <mat-icon>
            arrow_back_ios
          </mat-icon>
        </span>
        <span class="pagination-data">
          {{filterData.page}}/{{searchInfo.totalPages}}
        </span>
        <span (click)="nextPage()">
          <mat-icon>
            arrow_forward_ios
          </mat-icon>
        </span>
      </div>
    </div>
  </div>
</main>
